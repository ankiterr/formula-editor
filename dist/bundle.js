module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("codemirror/lib/codemirror")},function(e,t,r){var n=r(11);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0};r(13)(n,o);n.locals&&(e.exports=n.locals)},function(e,t){e.exports=require("universal-cookie")},function(e,t){e.exports=require("codemirror/mode/groovy/groovy")},function(e,t){e.exports=require("codemirror/mode/sql/sql")},function(e,t){e.exports=require("codemirror/lib/codemirror.css")},function(e,t){e.exports=require("codemirror/theme/3024-day.css")},function(e,t){e.exports=require("codemirror/theme/material.css")},function(e,t){e.exports=require("codemirror/addon/display/fullscreen.css")},function(e,t){e.exports=require("codemirror/addon/display/fullscreen.js")},function(e,t,r){(e.exports=r(12)(!1)).push([e.i,".m-codemirror {\n  position: relative;\n  overflow: hidden;\n  border: #d7d7d7 solid 1px;\n}\n.m-codemirror .placeholder {\n  position: absolute;\n  top: 3px;\n  left: 35px;\n  font-size: 12px;\n  color: #c6d0d3;\n  opacity: 0.4;\n}\n.m-codemirror .codemirror-tip-day,\n.m-codemirror .codemirror-tip-night {\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 999;\n  background: #fff;\n  width: 200px;\n  height: 200px;\n  overflow: auto;\n  box-shadow: rgba(119, 119, 119, 0.2) 0px 0px 7px, rgba(0, 0, 0, 0) 1px 1px 0px inset, rgba(0, 0, 0, 0) -1px -1px 0px inset;\n  font-size: 12px;\n}\n.m-codemirror .codemirror-tip-day ul,\n.m-codemirror .codemirror-tip-night ul {\n  margin: 0;\n  padding: 0;\n  overflow: auto;\n}\n.m-codemirror .codemirror-tip-day ul li,\n.m-codemirror .codemirror-tip-night ul li {\n  list-style: none;\n  cursor: pointer;\n  padding: 0px 10px;\n  height: 30px;\n  line-height: 30px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.m-codemirror .codemirror-tip-day ul li sup,\n.m-codemirror .codemirror-tip-night ul li sup {\n  padding-right: 5px;\n}\n.m-codemirror .codemirror-tip-day ul li:hover,\n.m-codemirror .codemirror-tip-night ul li:hover {\n  background: #63acff;\n  color: #fff;\n}\n.m-codemirror .codemirror-tip-day ul .cm-active,\n.m-codemirror .codemirror-tip-night ul .cm-active {\n  background: #63acff;\n  color: #fff;\n}\n.m-codemirror .cm-s-3024-day span.cm-field-keyword {\n  color: #FF9800;\n}\n.m-codemirror .cm-s-3024-day span.cm-function-keyword {\n  color: #03A9F4;\n}\n.m-codemirror .cm-s-3024-day span.cm-nomal-keyword {\n  color: #F44336;\n  border-bottom: #F44336 1px dotted;\n}\n.m-codemirror .cm-s-3024-day span.cm-boolean-keyword {\n  color: #673AB7;\n}\n.m-codemirror .cm-s-3024-day span.cm-string {\n  color: #cdab53;\n}\n.m-codemirror .cm-s-3024-day span.cm-comment {\n  color: #9E9E9E;\n}\n.m-codemirror .cm-s-material span.cm-field-keyword {\n  color: #FF9800;\n}\n.m-codemirror .cm-s-material span.cm-function-keyword {\n  color: #03A9F4;\n}\n.m-codemirror .cm-s-material span.cm-nomal-keyword {\n  color: #F44336;\n  border-bottom: #F44336 1px dotted;\n}\n.m-codemirror .cm-s-material span.cm-boolean-keyword {\n  color: #7689f3;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(c=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */"),i=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(i).concat([o]).join("\n")}var c;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var c=e[o];"number"==typeof c[0]&&n[c[0]]||(r&&!c[2]?c[2]=r:r&&(c[2]="("+c[2]+") and ("+r+")"),t.push(c))}},t}},function(e,t,r){var n,o,i={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(e){var t={};return function(r){if(void 0===t[r]){var n=e.call(this,r);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[r]=n}return t[r]}}((function(e){return document.querySelector(e)})),u=null,l=0,s=[],f=r(14);function d(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i[n.id];if(o){o.refs++;for(var c=0;c<o.parts.length;c++)o.parts[c](n.parts[c]);for(;c<n.parts.length;c++)o.parts.push(g(n.parts[c],t))}else{var a=[];for(c=0;c<n.parts.length;c++)a.push(g(n.parts[c],t));i[n.id]={id:n.id,refs:1,parts:a}}}}function p(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[c]?n[c].parts.push(a):r.push(n[c]={id:c,parts:[a]})}return r}function m(e,t){var r=a(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=s[s.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),s.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);r.insertBefore(t,o)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=s.indexOf(e);t>=0&&s.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function g(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var c=l++;r=u||(u=h(t)),n=w.bind(null,r,c,!1),o=w.bind(null,r,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),n=x.bind(null,r,t),o=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=h(t),n=O.bind(null,r),o=function(){y(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=c()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=p(e,t);return d(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var c=r[o];(a=i[c.id]).refs--,n.push(a)}e&&d(p(e,t),t);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete i[a.id]}}}};var b,S=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function w(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=S(t,o);else{var i=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(i,c[t]):e.appendChild(i)}}function O(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function x(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=f(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var c=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(c),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t){e.exports=require("js-beautify")},function(e,t){e.exports=require("intersection-observer")},function(e,t,r){"use strict";r.r(t);var n,o=r(0),i=r.n(o),c=r(1);(n=c).defineMode("defineScript",(function(){var e=[">=","<=","!=","=",">","<","+","-","*","/","(",")",";",",",":","{","}"];return{token:function(t){if(t.eatSpace())return null;if(t.match("//"))return t.skipToEnd(),"comment";for(var r=0;r<e.length;r++)if(t.match(e[r]))return"mark-keyword";if(t.match("true")||t.match("false"))return"boolean-keyword";if(t.match(/^[0-9\.+-]/,!1)){if(t.match(/^[+-]?0x[0-9a-fA-F]+/))return"number";if(t.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?/))return"number";if(t.match(/^[+-]?\d+([EeDd][+-]?\d+)?/))return"number"}if(t.match(/^"([^"]|(""))*"/))return"string";if(t.match(/^'([^']|(''))*'/))return"string";for(var n=localStorage.codemirrorFieldList?JSON.parse(localStorage.codemirrorFieldList):[],o=0;o<n.length;o++)if(t.match(n[o]))return"field-keyword";for(var i=localStorage.codemirrorKeywordList?JSON.parse(localStorage.codemirrorKeywordList):[],c=0;c<i.length;c++)if(t.match(i[c]))return"keyword";for(var a=localStorage.codemirrorMethodList?JSON.parse(localStorage.codemirrorMethodList):[],u=0;u<a.length;u++)if(t.match(a[u]))return"function-keyword";for(var l=localStorage.codemirrorNormalList?JSON.parse(localStorage.codemirrorNormalList):[],s=0;s<l.length;s++)if(t.match(l[s]))return"function-keyword";return t.next(),"nomal-keyword"}}})),n.defineMIME("text/x-defineScript","defineScript");r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(2),r(16);var a=r(3),u=new(r.n(a).a),l={cn:{INT:"整数",DOUBLE:"小数",STRING:"字符串",ENUM:"枚举",BOOLEAN:"布尔",DATETIME:"时间",ARRAY:"数组"},en:{INT:"Integer",DOUBLE:"Double",STRING:"String",ENUM:"Enum",BOOLEAN:"Boolean",DATETIME:"Datetime",ARRAY:"Array"}},s=function(e,t){var r=t||u.get("lang")||"cn",n=l[r];return{INT:{displayName:n.INT,color:"#5262C7"},LONG:{displayName:n.INT,color:"#5262C7"},DOUBLE:{displayName:n.DOUBLE,color:"#00D2C2"},STRING:{displayName:n.STRING,color:"#826AF9"},ENUM:{displayName:n.ENUM,color:"#00C5DC"},BOOLEAN:{displayName:n.BOOLEAN,color:"#4A9AF7"},DATETIME:{displayName:n.DATETIME,color:"#826AF9"},ARRAY:{displayName:n.ARRAY,color:"#E5A74F"}}||{}};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){var n;return n=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=e.style,r=e.dropList,n=e.theme,c=e.selectChange,a=e.listLen,u=e.listSize,l=e.itemHeight,f=e.typeMap,d=(e.lang,e.domId),m=Math.floor(u/2),h=null,v=0,g=0,b=null,S=null,w=0,O=s();Object(o.useEffect)((function(){if(window.currentIndex=g,a<=u){L(0,a);var e=document.getElementById(d);a&&e&&e.children&&e.children[0].classList.add("cm-active")}else h=new IntersectionObserver((function(e){var t,r=y(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!n.isIntersecting)return!1;g&&n.target.classList.contains("li-first")?T(!1):n.target.classList.contains("li-last")&&T(!0)}}catch(e){r.e(e)}finally{r.f()}})),j(),E();return function(){b&&h&&h.unobserve(b),S&&h&&h.unobserve(S),h&&h.disconnect(),x()}}),[r]),Object(o.useEffect)((function(){var e=document.getElementById(d);return e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-value"),r=e.target.getAttribute("data-name");c({name:r,value:t})})),function(){e.removeEventListener("click",(function(){}))}}),[]);var x=function(){var e=document.getElementById(d);e.style.paddingTop="0px",e.style.paddingBottom="0px",null,h=null,v=0,g=0,w=0,b=null,S=null,document.querySelector(".scroll-container").scrollTop=0},E=function(){var e=document.querySelector(".scroll-container"),t=e&&e.offsetHeight,r=l*m-l-t;e.onscroll=function(e){var t=e.target.scrollTop;if(t-w>=l){var n=Math.floor(Math.abs(t-r)/(l*m))*m,o=I();(n=n>o?o:n)!==window.currentIndex&&C(n,!0),w=t}if(t-w<=-l){var i=Math.floor((t-l)/(l*m))*m;C(i=i<=0?0:i,!1),w=t}}},j=function(){L(0,u),M(0),setTimeout((function(){A()}),100)},L=function(e,t){var n=p(p({},O),f),o=JSON.parse(JSON.stringify(r));o=o.splice(e,t);for(var i=document.getElementById(d),c="",a=0;a<o.length;a++){var u=o[a],l=n[u.type]?n[u.type]:"";c+="<li key=".concat(a,' class="cm-field-li" data-value="').concat(u.value,'" title="').concat(u.name,'" data="').concat(u.value,'" data-name="').concat(u.name,'">').concat(l?'<sup style="color: '.concat(l.color,'"> ').concat(l.displayName,"</sup>"):"").concat(u.name,"</li>")}i.innerHTML="",i.innerHTML=c},A=function(e){var t=document.getElementById(d);if(b&&h&&h.unobserve(b),S&&h&&h.unobserve(S),t&&t.children&&t.children.length){t.children[0].classList.add("li-first");var r=0;e&&window.currentIndex&&(r=window.currentIndex/10%2>0?8:7),!1===e&&(r=window.currentIndex/10%2>0?13:11),t&&t.children&&t.children[r]&&t.children[r].classList.add("cm-active"),t.children[t.children.length-1].classList.add("li-last");var n=t.querySelector(".".concat("li-first")),o=t.querySelector(".".concat("li-last"));h&&h.observe(n),h&&h.observe(o),b=n,S=o}},T=function(e){var t=N(e);C(t,e)},N=function(e){return e?g+m:g-m<0?0:g-m},I=function(){var e,t=a%u;return(e=0===t?a-u:t>=m?a-t:a-t-m)<=0?0:e},C=function(e,t){var r=I();if(t){if(e>r)return}else if(v===e)return;(v=e,e===r)?L(r,a-r):L(e,u);g=e,window.currentIndex=g,A(t),M(e)},M=function(e){var t=document.getElementById(d),r=m*l,n=(a-u)/m*r,o=e<=0?0:e/m*r,i=n-o<0?0:n-o;t.style.paddingTop="".concat(o,"px"),t.style.paddingBottom="".concat(i,"px")};return i.a.createElement("div",{className:"codemirror-tip-".concat(n," scroll-container"),style:p({},t),id:"scrollDiv"},i.a.createElement("ul",{className:"cm-field-ul box-ul",ref:function(e){return e},id:d}))};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["children","value","readOnly","theme","mode","selectStyle","lineNumber","indentUnit","regExp","isEndMark","height","fieldList","typeMap","keyWords","methodList","normalList","editorEvent","placeholder","cnCodeToEnExtraLogic","enCodeToCnExtraLogic","lang"];function S(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){var n;return n=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==g(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,c,a=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var T=r(15).js_beautify,N=function(e,t){return e.length>t.length?-1:e.length<t.length?1:0},I=0,C=Object(o.forwardRef)((function(e,t){var r=e.children,n=e.value,a=void 0===n?"":n,u=e.readOnly,l=void 0!==u&&u,s=e.theme,f=void 0===s?"night":s,d=e.mode,p=void 0===d?"defineScript":d,m=e.selectStyle,y=void 0===m?{width:"200px"}:m,h=e.lineNumber,g=void 0===h||h,w=e.indentUnit,x=void 0===w?2:w,j=e.regExp,L=void 0===j?"":j,C=e.isEndMark,M=e.height,R=void 0===M?300:M,k=e.fieldList,U=e.typeMap,B=void 0===U?{}:U,P=e.keyWords,D=void 0===P?["int","double","string","list","boolean","if","else","and","or","return"]:P,q=e.methodList,F=e.normalList,J=e.editorEvent,V=e.placeholder,_=e.cnCodeToEnExtraLogic,z=e.enCodeToCnExtraLogic,G=e.lang,H=A(e,b),$=E(Object(o.useState)({posLeft:0,posTop:0,tipShow:!1,tipShowType:null}),2),K=$[0],Y=$[1],W=E(Object(o.useState)([]),2),Q=W[0],X=W[1],Z=E(Object(o.useState)("@[^\\+\\*\\/#%\\(\\),;\\!\\<\\>\\-=@]*"),2),ee=Z[0],te=Z[1],re=Object(o.useRef)(),ne=Object(o.useRef)(),oe=Object(o.useRef)(""),ie=Object(o.useRef)(""),ce=Object(o.useRef)(""),ae=Object(o.useRef)("formula-edit-".concat(I++)),ue=K.posLeft,le=K.posTop,se=K.tipShowType,fe=K.tipShow,de=function(){re.current.setOption("fullScreen",!re.current.getOption("fullScreen")),re.current.focus()},pe=function(){re.current.getOption("fullScreen")&&re.current.setOption("fullScreen",!1)};Object(o.useEffect)((function(){var e;ge();var t={};"night"===f&&(e="material"),"day"===f&&(e="3024-day"),"groovy"===p&&(t={mode:"text/x-groovy",indentUnit:x,extraKeys:{Tab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection(Array(e.getOption("indentUnit")+1).join(" "),"end","+input")},"Shift-Tab":function(e){if(e.somethingSelected())e.indentSelection("subtract");else{var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-e.getOption("indentUnit")})}},"Ctrl-F":function(e){var t=T(e.getValue(),{indent_size:x,indent_char:"1"===x?"\t":" "});re.current.setValue(t)}}}),re.current||(re.current=c.fromTextArea(ne.current,O(O({mode:p,theme:e,lineNumbers:g,lineWrapping:!0,readOnly:!!l&&"nocursor"},t),H)));var r="";return a&&(r=Se(a)),re.current.setValue(r),re.current.setSize("auto",R),"groovy"===p&&(re.current.off("changes",ye),re.current.on("changes",ye)),J&&J({codeEditor:re.current,fullScreen:de,exitFullScreen:pe,EnCodeToCn:Se,CnCodeToEn:be}),function(){}}),[]),Object(o.useEffect)((function(){re.current&&re.current.addKeyMap({Up:function(e){Ee("up",e)},Down:function(e){Ee("down",e)},Enter:function(e){Ee("enter",e)},Esc:function(){pe()},F9:function(){de()}})}),[fe]),Object(o.useEffect)((function(){if(!l&&re.current){var e=Se(a);he(e)}}),[l,a]),Object(o.useEffect)((function(){re.current&&re.current.setSize("auto",R)}),[R]);var me=function(t){var r=document.body.querySelector(".cm-nomal-keyword"),n=be(t),o={cnCode:t,enCode:n,errorMsg:r?"存在错误代码":null};e.onChange(n,o)},ye=function(t){if(e.onChange){var r=t.getValue();me(r)}};Object(o.useEffect)((function(){if(re.current&&"groovy"!==p){ge();var e=a;e&&(e=Se(e)),re.current.setValue(e),re.current.off("changes",ye),re.current.on("changes",ye),re.current.on("cursorActivity",(function(e){we(e)})),re.current.on("focus",(function(e){we(e),Y(O({},K))}))}if(!L&&(F||[]).length){var t=F.map((function(e){return e.name}));t=t.join(""),te("@[^\\+\\*\\/#%\\(\\),;\\!\\<\\>\\-=@".concat(t,"]*"))}if((k||[]).length||(q||[]).length||(F||[]).length){var r=Se(a);me(r)}}),[k,q,F]);var he=function(e){if(!l&&e){var t=re.current.getCursor(),r=t.ch;re.current.setCursor(t.line,r)}},ve=function(e,t){var r=Object.assign([],e);r.sort((function(e,t){return e.name.length>t.name.length?-1:e.name.length<t.name.length?1:0}));for(var n=[],o=0;o<r.length;o++)n.push("".concat(t).concat(r[o].name));return JSON.stringify(n)},ge=function(){localStorage.codemirrorFieldList=ve(k||[],"@"),localStorage.codemirrorMethodList=ve(q||[],"#"),localStorage.codemirrorNormalList=ve(F||[],""),localStorage.codemirrorKeywordList=JSON.stringify(D);var e=(k||[]).map((function(e){return"@".concat(e.name.replace(/\[/g,"\\[").replace(/\]/g,"\\]"))})),t=(q||[]).map((function(e){return"#".concat(e.name)})),r=(F||[]).map((function(e){return e.name})),n=[].concat(S(t),S(r));oe.current=new RegExp("(".concat(n.join("|"),")"),"g"),ce.current=new RegExp("(".concat(n.sort(N).join("|"),")")),ie.current=new RegExp("(".concat(e.sort(N).join("|"),")"))},be=function(e){var t=new RegExp(L||ee,"g"),r=e.replace(t,(function(e){var t=e.replace(/^\s*|\s*$/g,""),r=(k||[]).find((function(e){return"@".concat(e.name)===t}));if(r&&(t="@".concat(r.value),_)){var n=_(r);n&&(t=n+t)}return t}));return r=r.replace(oe.current,(function(e){var t=e,r=(q||[]).find((function(t){return"#".concat(t.name)===e}));r&&(t="#".concat(r.realValue));var n=(F||[]).find((function(t){return t.name===e}));return n&&(t=n.value),t}))},Se=function(e){var t=new RegExp(i||ee,"g"),r=(q||[]).map((function(e){return"#".concat(e.realValue)})),n=(F||[]).map((function(e){return e.value})),o=[].concat(S(r),S(n)).join("|"),i=new RegExp("(".concat(o,")"),"g"),c=e.replace(t,(function(e){var t=e,r=(k||[]).find((function(t){return"@".concat(t.value)===e}));return r&&(t="@".concat(r.name)),t}));if(z){var a=z(c);a&&(c=a)}return c=c.replace(i,(function(e){var t=e,r=(q||[]).find((function(t){return"#".concat(t.realValue)===e}));r&&(t="#".concat(r.name));var n=(F||[]).find((function(t){return t.value===e}));return n&&(t=n.name),t}))},we=function(e){if(!l){var t=e.getCursor(),r=e.cursorCoords(t),n=e.getLine(t.line).substring(0,t.ch),o=n.lastIndexOf("@",t.ch),i=n.lastIndexOf("#",t.ch);if(k&&k.length>0&&-1!==o&&o>i){var c=n.substring(o+1,t.ch);if(k.find((function(e){return e.name.includes(c)}))){var a=O(O({},K),{},{posLeft:r.left,posTop:r.top+20,tipShow:!0,tipShowType:"@"});Y(a),Oe(c,"@")}else Y(O(O({},K),{},{tipShow:!1,tipShowType:null}))}if(q&&q.length>0&&-1!==i&&i>o){var u=n.substring(i+1,t.ch);q.find((function(e){return e.name.includes(u)}))?(Y(O(O({},K),{},{posLeft:r.left,posTop:r.top+20,tipShow:!0,tipShowType:"#"})),Oe(u,"#")):Y(O(O({},K),{},{tipShow:!1,tipShowType:null}))}n.includes("@")||n.includes("#")||Y(O(O({},K),{},{tipShow:!1,tipShowType:null}))}},Oe=function(e,t){var r=[];("@"===t?k||[]:q||[]).forEach((function(t){t.name.includes(e)&&r.push(t)})),X(r)},xe=function(e,t){var r=re.current.getCursor(),n=re.current.getLine(r.line),o=n.substring(0,r.ch).lastIndexOf(t,r.ch),i=n.substring(o,n.length),c=r.ch;if("@"===t||"#"===t){var a="@"===t?ie.current:ce.current,u=i.match(a);u&&0===u.index&&(c=o+u[0].length)}re.current.setSelection({line:r.line,ch:o+1},{line:r.line,ch:c});var l="",s=0;l="@"===t?e.name+(C?"@":""):"#"===t&&n.length>c?e.name:e.value,"#"===t&&l.includes(",")&&(s=l.indexOf(",")-l.length),re.current.replaceSelection(l),re.current.setCursor(r.line,o+1+l.length+s),re.current.focus(),Y(O(O({},K),{},{tipShow:!1,tipShowType:null}))},Ee=function(e,t){if(!fe)return"up"===e?t.execCommand("goLineUp"):"down"===e?t.execCommand("goLineDown"):"enter"===e&&t.execCommand("newlineAndIndent"),!1;for(var r="cm-field-li",n="cm-active",o=document.getElementById(ae.current).querySelectorAll(".".concat(r)),i=o.length,c=0,a=0;a<i;a++)o[a].className.includes(n)&&(c=a,!0);if("up"===e)o[c].className=r,0===c?o[0].className="".concat(n," ").concat(r):o[c-1].className="".concat(n," ").concat(r),document.getElementById(ae.current).querySelector(".".concat(n)).scrollIntoViewIfNeeded();else if("down"===e)o[c].setAttribute("class",r),c===i-1?o[c].setAttribute("class","".concat(n," ").concat(r)):o[c+1].setAttribute("class","".concat(n," ").concat(r)),document.getElementById(ae.current).querySelector(".".concat(n)).scrollIntoViewIfNeeded();else if("enter"===e){var u=document.querySelector(".".concat(n));xe({name:u.title,value:u.attributes.data.value},se),setTimeout((function(){Y(O(O({},K),{},{tipShow:!1,tipShowType:null}))}),100)}};return i.a.createElement("div",{className:"m-codemirror"},r,i.a.createElement("textarea",{ref:ne}),V&&!a&&i.a.createElement("a",{className:"placeholder"},V),fe?i.a.createElement(v,{theme:f,dropList:Q,listLen:Q.length,listSize:20,itemHeight:30,typeMap:B,selectChange:function(e){xe(e,se)},style:O({left:"".concat(ue,"px"),top:"".concat(le,"px")},y),lang:G,domId:ae.current}):"")}));t.default=C}]);